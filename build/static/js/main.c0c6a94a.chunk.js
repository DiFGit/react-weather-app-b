(this["webpackJsonpreact-weatherapp-b"]=this["webpackJsonpreact-weatherapp-b"]||[]).push([[0],{19:function(e,t,a){e.exports=a(64)},24:function(e,t,a){},63:function(e,t,a){},64:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(18),i=a.n(r),s=(a(24),a(2)),l=a(4),o=a.n(l);function m(e){var t=new Date(e.data),a=["sunday","monday","tuesday","wednesday","thursday","friday","saturday"][t.getDay()],n=t.getHours(),r=t.getMinutes();return r<10&&(r="0".concat(r)),c.a.createElement("small",null,a,", ",n,":",r," ")}function u(e){return c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col-4 left-data"},c.a.createElement("div",{className:"day-hour"}," ",c.a.createElement(m,{data:e.data.time})),c.a.createElement("h4",{className:"location"},c.a.createElement("small",null,e.data.city)),c.a.createElement("div",{className:"weather-description"},c.a.createElement("small",null,e.data.description))),c.a.createElement("div",{className:"col-4 current-weather"},c.a.createElement("img",{alt:"",src:e.data.iconUrl,className:"weather-icon"})),c.a.createElement("div",{className:"col-4 current-temperature-data"},c.a.createElement("div",{className:"current-temperature"},c.a.createElement("strong",{className:"current-temperature-element"},e.data.temperature,"\xba")),c.a.createElement("div",{className:"temp-max-min"},e.data.tempMax,"\xba/",e.data.tempMin,"\xba")))}var d=a(8);function p(e){var t=e.fourDayForecast;return c.a.createElement("div",{className:"container forecast-display"},t.map((function(t){return c.a.createElement("div",{className:"row"},c.a.createElement("div",{className:"col"},c.a.createElement("small",null,function(e){var t=new Date(e).getDay();return"".concat(["SUN","MON","TUE","WED","THU","FRI","SAT"][t])}(1e3*t[0].dt-1e3*e.data.city.timezone))),c.a.createElement("div",{className:"col"},c.a.createElement("img",{src:"http://openweathermap.org/img/wn/".concat(t[0].weather[0].icon,"@2x.png"),className:"forecast-icon",alt:""})),c.a.createElement("div",{className:"col"},c.a.createElement("small",null,Math.round(Math.max.apply(Math,Object(d.a)(t.map((function(e){return e.main.temp_max}))))),"\xba / ",Math.round(Math.min.apply(Math,Object(d.a)(t.map((function(e){return e.main.temp_min}))))),"\xba")),c.a.createElement("div",{className:"w-100"}))})))}var f=a(7),h=a.n(f);function b(e){var t=e.forecastData.data;if(21===new Date(1e3*e.forecastData.date+1e3*e.forecastData.timezone).getHours()){var a=[t.list.slice(1,8),t.list.slice(9,16),t.list.slice(17,24),t.list.slice(25,32)];return c.a.createElement(p,{fourDayForecast:a,data:t,units:e.units})}if(function(e){return 0}){var n=[t.list.slice(8,15),t.list.slice(16,23),t.list.slice(24,31),t.list.slice(32,39)];return c.a.createElement(p,{fourDayForecast:n,data:t,units:e.units})}if(function(e){return e<6}){var r=[t.list.slice(7,14),t.list.slice(15,22),t.list.slice(23,30),t.list.slice(31,38)];return c.a.createElement(p,{fourDayForecast:r,data:t,units:e.units})}if(function(e){return e<9}){var i=[t.list.slice(6,13),t.list.slice(14,21),t.list.slice(22,29),t.list.slice(30,37)];return c.a.createElement(p,{fourDayForecast:i,data:t,units:e.units})}if(function(e){return e<12}){var s=[t.list.slice(5,12),t.list.slice(13,20),t.list.slice(21,28),t.list.slice(29,36)];return c.a.createElement(p,{fourDayForecast:s,data:t,units:e.units})}if(function(e){return e<15}){var l=[t.list.slice(4,11),t.list.slice(12,19),t.list.slice(20,27),t.list.slice(28,35)];return c.a.createElement(p,{fourDayForecast:l,data:t,units:e.units})}if(function(e){return e<18}){var o=[t.list.slice(3,10),t.list.slice(11,18),t.list.slice(19,26),t.list.slice(27,34)];return c.a.createElement(p,{fourDayForecast:o,data:t,units:e.units})}if(function(e){return e<21}){var m=[t.list.slice(2,9),t.list.slice(10,16),t.list.slice(18,25),t.list.slice(26,35)];return c.a.createElement(p,{fourDayForecast:m,data:t,units:e.units})}if(function(e){return e<24}){var u=[t.list.slice(1,8),t.list.slice(9,15),t.list.slice(17,24),t.list.slice(25,34)];return c.a.createElement(p,{fourDayForecast:u,data:t,units:e.units})}return c.a.createElement(h.a,{type:"TailSpin",color:"#00BFFF",height:80,width:80,timeout:3e3,className:"loader"})}function E(e){var t=e.weatherData,a=Object(n.useState)({ready:!1}),r=Object(s.a)(a,2),i=r[0],l=r[1];function m(e){l({data:e.data,city:e.data.city.name,date:e.data.list[0].dt,timezone:e.data.city.timezone,mainWeather:e.data.list[0].weather[0].main,ready:!0})}if(Object(n.useEffect)((function(){var a="".concat("https://api.openweathermap.org/data/2.5/","forecast?q=").concat(t.city,"&appid=").concat("1c79a9c19394dbdbf78cd6d4344cc928","&units=").concat(e.units);o.a.get(a).then(m)}),[t.city,e.units]),e.forecast&&i.city===t.city)return c.a.createElement(b,{forecastData:i,weatherData:t,units:e.units});if("Rain"===i.mainWeather){var u=i.data.list[0].rain["3h"];return c.a.createElement("div",{classeName:"moreInfo"},c.a.createElement("ul",{className:"weather-details"},c.a.createElement("li",null,"Wind: ",c.a.createElement("span",{className:"wind-speed"}),c.a.createElement("span",{className:"wind-units"})," ",t.windSpeed,e.windSpeedUnits),c.a.createElement("li",null,"Humidity: ",c.a.createElement("span",{className:"humidity"}),t.humidity,"%"),c.a.createElement("li",null,"Precipitation: ",c.a.createElement("span",{className:"pressure"}),u,"mm"),c.a.createElement("li",null,"Pressure: ",c.a.createElement("span",{className:"pressure"}),t.pressure,"mb")))}return c.a.createElement("div",{classeName:"moreInfo"},c.a.createElement("ul",{className:"weather-details"},c.a.createElement("li",null,"Wind: ",c.a.createElement("span",{className:"wind-speed"}),c.a.createElement("span",{className:"wind-units"})," ",t.windSpeed,e.windSpeedUnits),c.a.createElement("li",null,"Humidity: ",c.a.createElement("span",{className:"humidity"}),t.humidity,"%"),c.a.createElement("li",null,"Precipitation: ",c.a.createElement("span",{className:"pressure"}),"00mm"),c.a.createElement("li",null,"Pressure: ",c.a.createElement("span",{className:"pressure"}),t.pressure,"mb")))}a(63);function v(e){var t=Object(n.useState)(null),a=Object(s.a)(t,2),r=a[0],i=a[1];function l(){i("https://images.pexels.com/photos/1078850/pexels-photo-1078850.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940")}function m(e){i(e.data.photos[3].src.portrait)}return console.log(e.currentLocation),Object(n.useEffect)((function(){o()({method:"get",url:"https://api.pexels.com/v1/search?query=".concat(e.city,"+query&per_page=15&page=1"),headers:{Authorization:"563492ad6f91700001000001f466afaf7aa641ac972d98d7545e9bfa"}}).then(m).catch(l)}),[e.city]),e.currentLocation?c.a.createElement("img",{alt:"",src:"https://images.pexels.com/photos/1078850/pexels-photo-1078850.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940",className:"city-image card border-light"}):c.a.createElement("img",{alt:"",src:r,className:"city-image card border-light"})}function g(){var e=Object(n.useState)("Lisbon"),t=Object(s.a)(e,2),a=t[0],r=t[1],i=Object(n.useState)("null"),l=Object(s.a)(i,2),m=l[0],d=l[1],p=Object(n.useState)({ready:!1}),f=Object(s.a)(p,2),b=f[0],g=f[1],y=Object(n.useState)("metric"),w=Object(s.a)(y,2),N=w[0],j=w[1],O=Object(n.useState)("btn btn-lg units inactive fahrenheit"),D=Object(s.a)(O,2),S=D[0],F=D[1],x=Object(n.useState)("btn btn-lg units active celsius"),M=Object(s.a)(x,2),k=M[0],C=M[1],U=Object(n.useState)("m/s"),P=Object(s.a)(U,2),W=P[0],_=P[1],z=Object(n.useState)("btn btn-light btn-sm details disabled"),H=Object(s.a)(z,2),T=H[0],q=H[1],B=Object(n.useState)("btn btn-light btn-sm forecast"),I=Object(s.a)(B,2),L=I[0],A=I[1],J=Object(n.useState)(!0),R=Object(s.a)(J,2),G=R[0],$=R[1],K=Object(n.useState)(!1),Q=Object(s.a)(K,2),V=Q[0],X=Q[1],Y=Object(n.useState)(!1),Z=Object(s.a)(Y,2),ee=Z[0],te=Z[1];function ae(e){g({iconUrl:"https://openweathermap.org/img/wn/".concat(e.data.weather[0].icon,"@2x.png"),temperature:Math.round(e.data.main.temp),tempMax:Math.round(e.data.main.temp_max),tempMin:Math.round(e.data.main.temp_min),pressure:e.data.main.pressure,humidity:e.data.main.humidity,description:e.data.weather[0].description,windSpeed:e.data.wind.speed,city:e.data.name,time:1e3*e.data.dt+1e3*e.data.timezone-36e5,ready:!0})}function ne(e){var t="lat=".concat(e.coords.latitude,"&lon=").concat(e.coords.longitude),a="".concat("https://api.openweathermap.org/data/2.5/","weather?").concat(t,"&appid=").concat("1c79a9c19394dbdbf78cd6d4344cc928","&units=metric");o.a.get(a).then(ae),te(!0)}return Object(n.useEffect)((function(){var e="".concat("https://api.openweathermap.org/data/2.5/","weather?q=").concat(a,"&appid=").concat("1c79a9c19394dbdbf78cd6d4344cc928","&units=").concat(N);o.a.get(e).then(ae),te(!1)}),[a,N]),b.ready?c.a.createElement("div",{className:"App"},c.a.createElement("div",{className:"card text-white"},c.a.createElement("div",{className:"card-overlay"},c.a.createElement("div",{className:"row clearfix"},c.a.createElement("div",{className:"form-group col-12 mt-1"},c.a.createElement("form",{className:"form-inline search-form",onSubmit:function(e){e.preventDefault(),r(m)}},c.a.createElement("input",{type:"search",placeholder:"Enter city",autoComplete:"off",className:"col-5 mr-2 search-engine",onChange:function(e){e.preventDefault(),d(e.target.value)}}),c.a.createElement("input",{type:"submit",value:"\ud83d\udd0d",className:"btn btn-sm search-glass"}),c.a.createElement("div",{className:"icon local-icon"},c.a.createElement("button",{className:"col-2 mr-3 btn btn-sm current-location",onClick:function(){navigator.geolocation.getCurrentPosition(ne)}},c.a.createElement("i",{className:"fas fa-map-marker-alt local-icon"}))),c.a.createElement("div",{className:"col-3 temperature-units"},c.a.createElement("a",{href:"/",className:k,onClick:function(e){e.preventDefault(),j("metric"),F("btn btn-lg units inactive fahrenheit"),C("btn btn-lg units active celsius"),_("m/s")}},"C"),"|",c.a.createElement("a",{href:"/",className:S,onClick:function(e){e.preventDefault(),j("imperial"),F("btn btn-lg units active fahrenheit"),C("btn btn-lg units inactive celsius"),_("mph")}},"F"))))),c.a.createElement(u,{data:b,units:N}),c.a.createElement("div",{className:"row lower-end"},c.a.createElement("div",{className:"col-6 city-image"},c.a.createElement(v,{city:a,currentLocation:ee})),c.a.createElement("div",{className:"col-6 choose-buttons"},c.a.createElement("div",{className:"btn-group",role:"group"},c.a.createElement("input",{type:"button",className:T,value:" Details ",onClick:function(e){e.preventDefault(),A("btn btn-light btn-sm forecast"),q("btn btn-light btn-sm details disabled"),X(!1),$(!0)}}),c.a.createElement("input",{type:"button",className:L,value:" Forecast ",onClick:function(e){e.preventDefault(),A("btn btn-light btn-sm details disabled"),q("btn btn-light btn-sm forecast"),X(!0),$(!1)}})),c.a.createElement(E,{weatherData:b,windSpeedUnits:W,details:G,forecast:V,units:N}))),c.a.createElement("div",{className:"links"},c.a.createElement("small",{className:"pexels-link"},"Photo provided by"," ",c.a.createElement("a",{href:"https://www.pexels.com/",target:"_blank",rel:"noopener noreferrer"},"Pexels")),c.a.createElement("small",{className:"github-link"},c.a.createElement("a",{href:"https://github.com/DiFGit/react-weather-app-b",target:"_blank",rel:"noopener noreferrer"},"Open-source code")," ","by Diana Ferreira"))))):c.a.createElement(h.a,{type:"TailSpin",color:"#00BFFF",height:80,width:80,timeout:3e3,className:"loader"})}Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(c.a.StrictMode,null,c.a.createElement(g,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[19,1,2]]]);
//# sourceMappingURL=main.c0c6a94a.chunk.js.map